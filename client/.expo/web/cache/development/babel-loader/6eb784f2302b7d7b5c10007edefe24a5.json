{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\HP USER\\\\Documents\\\\Github\\\\movie-suggestor\\\\client\\\\favMoviesModal.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component, useState, useEffect } from 'react';\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { MaterialIcons } from '@expo/vector-icons';\nimport Constants from 'expo-constants';\nimport { BlurView } from 'expo-blur';\nimport { auth, db } from \"./firebaseHandler\";\nimport * as firebase from 'firebase';\nimport 'firebase/firestore';\nimport pulpfiction from \"./assets/pulpFiction.png\";\n\nfunction addMovie(title) {\n  var user = auth.currentUser;\n  db.collection(\"users\").doc(user.uid).update({\n    movies: firebase.firestore.FieldValue.arrayUnion({\n      title: title,\n      rating: 5\n    })\n  }).catch(function (err) {\n    console.log(err);\n    db.collection(\"users\").doc(user.uid).set({\n      movies: firebase.firestore.FieldValue.arrayUnion({\n        title: title,\n        rating: 5\n      })\n    });\n  });\n}\n\nexport default function FavMoviesModal(_ref) {\n  var modalVisible = _ref.modalVisible,\n      setModalVisible = _ref.setModalVisible,\n      item = _ref.item,\n      navigation = _ref.navigation,\n      data = _ref.data;\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      Alert.alert('Modal has been closed.');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, React.createElement(BlurView, {\n    tint: \"dark\",\n    intensity: 100,\n    style: styles.notBlurred,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.modalContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }\n  }, React.createElement(TouchableOpacity, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 25\n    }\n  }, React.createElement(MaterialIcons, {\n    name: \"close\",\n    color: \"white\",\n    size: 27,\n    style: {\n      alignSelf: 'flex-end'\n    },\n    onPress: function onPress() {\n      setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 29\n    }\n  })), React.createElement(View, {\n    style: {\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 25\n    }\n  }, React.createElement(Image, {\n    source: pulpfiction,\n    style: styles.moviePoster,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 29\n    }\n  }), React.createElement(AdjustLabel, {\n    fontSize: 40,\n    text: item.title,\n    style: styles.movieTitle,\n    numberOfLines: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 29\n    }\n  })), React.createElement(View, {\n    style: {\n      alignItems: 'center',\n      marginVertical: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: function onPress() {\n      setModalVisible(false);\n      addMovie(item.title);\n      navigation.navigate('FavMovies');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 33\n    }\n  }, \"Save\")))))));\n}\n\nvar AdjustLabel = function AdjustLabel(_ref2) {\n  var fontSize = _ref2.fontSize,\n      text = _ref2.text,\n      style = _ref2.style,\n      numberOfLines = _ref2.numberOfLines;\n\n  var _useState = useState(fontSize),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentFont = _useState2[0],\n      setCurrentFont = _useState2[1];\n\n  return React.createElement(Text, {\n    numberOfLines: numberOfLines,\n    adjustsFontSizeToFit: true,\n    style: [style, {\n      fontSize: currentFont\n    }],\n    onTextLayout: function onTextLayout(e) {\n      var lines = e.nativeEvent.lines;\n\n      if (lines.length > numberOfLines) {\n        setCurrentFont(currentFont - 1);\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, text);\n};\n\nvar styles = StyleSheet.create({\n  modalContainer: {\n    backgroundColor: '#2F2F2F',\n    marginTop: 'auto',\n    marginBottom: 'auto',\n    marginHorizontal: 20,\n    borderRadius: 40,\n    paddingVertical: 20,\n    paddingLeft: 30,\n    paddingRight: 30\n  },\n  movieTitle: {\n    fontFamily: 'Raleway-Bold',\n    color: 'white',\n    marginBottom: 8,\n    textAlign: 'center'\n  },\n  moviePoster: {\n    marginBottom: 13\n  },\n  notBlurred: _objectSpread({}, StyleSheet.absoluteFill),\n  button: {\n    borderRadius: 22,\n    borderColor: 'white',\n    borderWidth: 1,\n    padding: 5,\n    alignItems: 'center'\n  },\n  buttonTitle: {\n    fontFamily: 'Raleway-SemiBold',\n    color: 'white',\n    fontSize: 18,\n    paddingHorizontal: 20\n  }\n});","map":{"version":3,"sources":["C:/Users/HP USER/Documents/Github/movie-suggestor/client/favMoviesModal.js"],"names":["React","Component","useState","useEffect","MaterialIcons","Constants","BlurView","auth","db","firebase","pulpfiction","addMovie","title","user","currentUser","collection","doc","uid","update","movies","firestore","FieldValue","arrayUnion","rating","catch","err","console","log","set","FavMoviesModal","modalVisible","setModalVisible","item","navigation","data","Alert","alert","styles","notBlurred","modalContainer","alignSelf","alignItems","justifyContent","moviePoster","movieTitle","marginVertical","button","navigate","buttonTitle","AdjustLabel","fontSize","text","style","numberOfLines","currentFont","setCurrentFont","e","lines","nativeEvent","length","StyleSheet","create","backgroundColor","marginTop","marginBottom","marginHorizontal","borderRadius","paddingVertical","paddingLeft","paddingRight","fontFamily","color","textAlign","absoluteFill","borderColor","borderWidth","padding","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\r\nimport { Modal, Text, TouchableOpacity, TouchableHighlight, View, Alert, StyleSheet, Image } from 'react-native';\r\nimport { MaterialIcons } from '@expo/vector-icons';\r\nimport Constants from 'expo-constants'\r\nimport { BlurView } from 'expo-blur';\r\n\r\nimport {auth, db} from './firebaseHandler'\r\nimport * as firebase from 'firebase'\r\nimport 'firebase/firestore'\r\n\r\nimport pulpfiction from './assets/pulpFiction.png'\r\n\r\nfunction addMovie (title) {\r\n    const user = auth.currentUser;\r\n    db.collection(\"users\").doc(user.uid).update({\r\n        movies: firebase.firestore.FieldValue.arrayUnion({title: title, rating: 5})\r\n    }).catch((err) => { \r\n        console.log(err)\r\n        db.collection(\"users\").doc(user.uid).set({\r\n            movies: firebase.firestore.FieldValue.arrayUnion({title: title, rating: 5})\r\n    });\r\n})\r\n}\r\n\r\nexport default function FavMoviesModal({ modalVisible, setModalVisible, item, navigation, data}) {\r\n    return (\r\n        <View>\r\n            <Modal\r\n                animationType=\"fade\"\r\n                transparent={true}\r\n                visible={modalVisible}\r\n                onRequestClose={() => {\r\n                    Alert.alert('Modal has been closed.');\r\n                }}>\r\n                <BlurView tint=\"dark\" intensity={100} style={styles.notBlurred}>\r\n                    <View style={styles.modalContainer}>\r\n                        <TouchableOpacity>\r\n                            <MaterialIcons name='close' color='white' size={27} style={{ alignSelf: 'flex-end' }} onPress={() => { setModalVisible(!modalVisible); }} />\r\n                        </TouchableOpacity>\r\n                        <View style={{ alignItems: 'center', justifyContent: 'center' }}>\r\n                            <Image source={pulpfiction} style={styles.moviePoster}></Image>\r\n                            <AdjustLabel fontSize={40} text={item.title} style={styles.movieTitle} numberOfLines={2} />\r\n                        </View>\r\n                        <View style={{ alignItems: 'center', marginVertical: 20 }}>\r\n                            <TouchableOpacity style={styles.button} onPress={() => {setModalVisible(false); addMovie(item.title); navigation.navigate('FavMovies')}}>\r\n                                <Text style={styles.buttonTitle}>Save</Text>\r\n                            </TouchableOpacity>\r\n                        </View>\r\n                    </View>\r\n                </BlurView>\r\n            </Modal>\r\n        </View>\r\n    );\r\n}\r\n\r\n\r\n\r\nconst AdjustLabel = ({ fontSize, text, style, numberOfLines }) => {\r\n    const [currentFont, setCurrentFont] = useState(fontSize);\r\n\r\n    return (\r\n        <Text\r\n            numberOfLines={numberOfLines}\r\n            adjustsFontSizeToFit\r\n            style={[style, { fontSize: currentFont }]}\r\n            onTextLayout={(e) => {\r\n                const { lines } = e.nativeEvent;\r\n                if (lines.length > numberOfLines) {\r\n                    setCurrentFont(currentFont - 1);\r\n                }\r\n            }}>\r\n            {text}\r\n        </Text>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    modalContainer: {\r\n        backgroundColor: '#2F2F2F',\r\n        //justifyContent: 'center',\r\n        //alignItems: 'center',\r\n        marginTop: 'auto',\r\n        marginBottom: 'auto',\r\n        marginHorizontal: 20,\r\n        borderRadius: 40,\r\n        paddingVertical: 20,\r\n        paddingLeft: 30,\r\n        paddingRight: 30\r\n    },\r\n    movieTitle: {\r\n        fontFamily: 'Raleway-Bold',\r\n        color: 'white',\r\n        marginBottom: 8,\r\n        textAlign: 'center'\r\n    },\r\n    moviePoster: {\r\n        marginBottom: 13\r\n    },\r\n    notBlurred: {\r\n        ...StyleSheet.absoluteFill,\r\n    },\r\n    button: {\r\n        borderRadius: 22,\r\n        borderColor: 'white',\r\n        borderWidth: 1,\r\n        padding: 5,\r\n        alignItems: 'center',\r\n    },\r\n    buttonTitle: {\r\n        fontFamily: 'Raleway-SemiBold',\r\n        color: 'white',\r\n        fontSize: 18,\r\n        paddingHorizontal: 20\r\n    },\r\n})"]},"metadata":{},"sourceType":"module"}