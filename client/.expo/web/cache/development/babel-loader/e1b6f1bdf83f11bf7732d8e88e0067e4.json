{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\HP USER\\\\Documents\\\\Github\\\\movie-suggestor\\\\client\\\\ratingModal.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component, useState, useEffect } from 'react';\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { MaterialIcons } from '@expo/vector-icons';\nimport Constants from 'expo-constants';\nimport { BlurView } from 'expo-blur';\nimport { auth, db } from \"./firebaseHandler\";\nimport * as firebase from 'firebase';\nimport 'firebase/firestore';\nimport pulpfiction from \"./assets/pulpFiction.png\";\n\nfunction addMovie(title, rating) {\n  var user = auth.currentUser;\n  db.collection(\"users\").doc(\"sahifa\").update({\n    movies: firebase.firestore.FieldValue.arrayUnion({\n      title: title,\n      rating: rating\n    })\n  }).catch(function () {\n    db.collection(\"users\").doc(\"sahifa\").set({\n      movies: firebase.firestore.FieldValue.arrayUnion({\n        title: title,\n        rating: rating\n      })\n    });\n  });\n}\n\nexport default function RatingModal(_ref) {\n  var modalVisible = _ref.modalVisible,\n      setModalVisible = _ref.setModalVisible,\n      item = _ref.item;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      testing = _useState2[0],\n      setTesting = _useState2[1];\n\n  useEffect(function () {\n    return setTesting(0);\n  }, [modalVisible]);\n  return React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, React.createElement(Modal, {\n    animationType: \"fade\",\n    transparent: true,\n    visible: modalVisible,\n    onRequestClose: function onRequestClose() {\n      Alert.alert('Modal has been closed.');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, React.createElement(BlurView, {\n    tint: \"dark\",\n    intensity: 100,\n    style: styles.notBlurred,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, React.createElement(View, {\n    style: styles.modalContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, React.createElement(TouchableOpacity, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  }, React.createElement(MaterialIcons, {\n    name: \"close\",\n    color: \"white\",\n    size: 27,\n    style: {\n      alignSelf: 'flex-end'\n    },\n    onPress: function onPress() {\n      setModalVisible(!modalVisible);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 29\n    }\n  })), React.createElement(View, {\n    style: {\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }, React.createElement(Image, {\n    source: pulpfiction,\n    style: styles.moviePoster,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 29\n    }\n  }), React.createElement(AdjustLabel, {\n    fontSize: 40,\n    text: item.title,\n    style: styles.movieTitle,\n    numberOfLines: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 29\n    }\n  }), React.createElement(Text, {\n    style: styles.question,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, \"How would you like to rate this movie?\"), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      marginBottom: 38,\n      marginTop: 2,\n      justifyContent: 'space-evenly',\n      display: 'flex',\n      width: '95%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setTesting(1);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: testing >= 1 ? styles.activeRateButton : styles.rateButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 37\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setTesting(2);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: testing >= 2 ? styles.activeRateButton : styles.rateButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 37\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setTesting(3);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: testing >= 3 ? styles.activeRateButton : styles.rateButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 37\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setTesting(4);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: testing >= 4 ? styles.activeRateButton : styles.rateButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 37\n    }\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setTesting(5);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 33\n    }\n  }, React.createElement(View, {\n    style: testing >= 5 ? styles.activeRateButton : styles.rateButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 37\n    }\n  })))), React.createElement(View, {\n    style: {\n      alignSelf: 'flex-end',\n      marginBottom: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.button,\n    onPress: function onPress() {\n      setModalVisible(false);\n      addMovie(item.title, testing);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonTitle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  }, \"Save\")))))));\n}\n\nvar AdjustLabel = function AdjustLabel(_ref2) {\n  var fontSize = _ref2.fontSize,\n      text = _ref2.text,\n      style = _ref2.style,\n      numberOfLines = _ref2.numberOfLines;\n\n  var _useState3 = useState(fontSize),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentFont = _useState4[0],\n      setCurrentFont = _useState4[1];\n\n  return React.createElement(Text, {\n    numberOfLines: numberOfLines,\n    adjustsFontSizeToFit: true,\n    style: [style, {\n      fontSize: currentFont\n    }],\n    onTextLayout: function onTextLayout(e) {\n      var lines = e.nativeEvent.lines;\n\n      if (lines.length > numberOfLines) {\n        setCurrentFont(currentFont - 1);\n      }\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, text);\n};\n\nvar styles = StyleSheet.create({\n  modalContainer: {\n    backgroundColor: '#2F2F2F',\n    marginTop: 'auto',\n    marginBottom: 'auto',\n    marginHorizontal: 20,\n    borderRadius: 40,\n    paddingVertical: 20,\n    paddingLeft: 30,\n    paddingRight: 30\n  },\n  movieTitle: {\n    fontFamily: 'Raleway-Bold',\n    color: 'white',\n    marginBottom: 8,\n    textAlign: 'center'\n  },\n  rateButton: {\n    backgroundColor: 'white',\n    padding: 13,\n    borderRadius: 13,\n    flex: -1\n  },\n  activeRateButton: {\n    backgroundColor: '#DD1515',\n    padding: 13,\n    borderRadius: 13,\n    flex: -1\n  },\n  question: {\n    fontFamily: 'Raleway-SemiBold',\n    color: 'white',\n    fontSize: 17,\n    textAlign: 'center',\n    paddingHorizontal: 25,\n    marginBottom: 22\n  },\n  moviePoster: {\n    marginBottom: 13\n  },\n  notBlurred: _objectSpread({}, StyleSheet.absoluteFill),\n  button: {\n    borderRadius: 22,\n    borderColor: 'white',\n    borderWidth: 1,\n    padding: 5,\n    alignItems: 'center'\n  },\n  buttonTitle: {\n    fontFamily: 'Raleway-SemiBold',\n    color: 'white',\n    fontSize: 18,\n    paddingHorizontal: 20\n  }\n});","map":{"version":3,"sources":["C:/Users/HP USER/Documents/Github/movie-suggestor/client/ratingModal.js"],"names":["React","Component","useState","useEffect","MaterialIcons","Constants","BlurView","auth","db","firebase","pulpfiction","addMovie","title","rating","user","currentUser","collection","doc","update","movies","firestore","FieldValue","arrayUnion","catch","set","RatingModal","modalVisible","setModalVisible","item","testing","setTesting","Alert","alert","styles","notBlurred","modalContainer","alignSelf","alignItems","justifyContent","moviePoster","movieTitle","question","flexDirection","marginBottom","marginTop","display","width","activeRateButton","rateButton","button","buttonTitle","AdjustLabel","fontSize","text","style","numberOfLines","currentFont","setCurrentFont","e","lines","nativeEvent","length","StyleSheet","create","backgroundColor","marginHorizontal","borderRadius","paddingVertical","paddingLeft","paddingRight","fontFamily","color","textAlign","padding","flex","paddingHorizontal","absoluteFill","borderColor","borderWidth"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\r\nimport { Modal, Text, TouchableOpacity, TouchableHighlight, View, Alert, StyleSheet, Image } from 'react-native';\r\nimport { MaterialIcons } from '@expo/vector-icons';\r\nimport Constants from 'expo-constants'\r\nimport { BlurView } from 'expo-blur';\r\n\r\nimport {auth, db} from './firebaseHandler'\r\nimport * as firebase from 'firebase'\r\nimport 'firebase/firestore'\r\n\r\nimport pulpfiction from './assets/pulpFiction.png'\r\n\r\nfunction addMovie (title, rating) {\r\n    const user = auth.currentUser;\r\n\r\n    db.collection(\"users\").doc(\"sahifa\").update({\r\n        movies: firebase.firestore.FieldValue.arrayUnion({title: title, rating: rating})\r\n    }).catch(() => { \r\n        db.collection(\"users\").doc(\"sahifa\").set({\r\n            movies: firebase.firestore.FieldValue.arrayUnion({title: title, rating: rating})\r\n    });\r\n})\r\n}\r\n\r\nexport default function RatingModal({ modalVisible, setModalVisible, item}) {\r\n    const [testing, setTesting] = useState(0)\r\n    useEffect(() => setTesting(0), [modalVisible])\r\n    return (\r\n        <View>\r\n            <Modal\r\n                animationType=\"fade\"\r\n                transparent={true}\r\n                visible={modalVisible}\r\n                onRequestClose={() => {\r\n                    Alert.alert('Modal has been closed.');\r\n                }}>\r\n                <BlurView tint=\"dark\" intensity={100} style={styles.notBlurred}>\r\n                    <View style={styles.modalContainer}>\r\n                        <TouchableOpacity>\r\n                            <MaterialIcons name='close' color='white' size={27} style={{ alignSelf: 'flex-end' }} onPress={() => { setModalVisible(!modalVisible); }} />\r\n                        </TouchableOpacity>\r\n                        <View style={{ alignItems: 'center', justifyContent: 'center' }}>\r\n                            <Image source={pulpfiction} style={styles.moviePoster}></Image>\r\n                            <AdjustLabel fontSize={40} text={item.title} style={styles.movieTitle} numberOfLines={2} />\r\n                            <Text style={styles.question}>How would you like to rate this movie?</Text>\r\n                            <View style={{ flexDirection: 'row', marginBottom: 38, marginTop: 2, justifyContent: 'space-evenly', display: 'flex', width: '95%' }}>\r\n                                <TouchableOpacity onPress={() => setTesting(1)}>\r\n                                    <View style={(testing >= 1) ? styles.activeRateButton : styles.rateButton}></View>\r\n                                </TouchableOpacity>\r\n                                <TouchableOpacity onPress={() => setTesting(2)}>\r\n                                    <View style={(testing >= 2) ? styles.activeRateButton : styles.rateButton}></View>\r\n                                </TouchableOpacity>\r\n                                <TouchableOpacity onPress={() => setTesting(3)}>\r\n                                    <View style={(testing >= 3) ? styles.activeRateButton : styles.rateButton}></View>\r\n                                </TouchableOpacity>\r\n                                <TouchableOpacity onPress={() => setTesting(4)}>\r\n                                    <View style={(testing >= 4) ? styles.activeRateButton : styles.rateButton}></View>\r\n                                </TouchableOpacity>\r\n                                <TouchableOpacity onPress={() => setTesting(5)}>\r\n                                    <View style={(testing >= 5) ? styles.activeRateButton : styles.rateButton}></View>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                        </View>\r\n                        <View style={{ alignSelf: 'flex-end', marginBottom: 20 }}>\r\n                            <TouchableOpacity style={styles.button} onPress={() => {setModalVisible(false); addMovie(item.title, testing)}}>\r\n                                <Text style={styles.buttonTitle}>Save</Text>\r\n                            </TouchableOpacity>\r\n                        </View>\r\n                    </View>\r\n                </BlurView>\r\n            </Modal>\r\n        </View>\r\n    );\r\n}\r\n\r\n\r\n\r\nconst AdjustLabel = ({ fontSize, text, style, numberOfLines }) => {\r\n    const [currentFont, setCurrentFont] = useState(fontSize);\r\n\r\n    return (\r\n        <Text\r\n            numberOfLines={numberOfLines}\r\n            adjustsFontSizeToFit\r\n            style={[style, { fontSize: currentFont }]}\r\n            onTextLayout={(e) => {\r\n                const { lines } = e.nativeEvent;\r\n                if (lines.length > numberOfLines) {\r\n                    setCurrentFont(currentFont - 1);\r\n                }\r\n            }}>\r\n            {text}\r\n        </Text>\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    modalContainer: {\r\n        backgroundColor: '#2F2F2F',\r\n        //justifyContent: 'center',\r\n        //alignItems: 'center',\r\n        marginTop: 'auto',\r\n        marginBottom: 'auto',\r\n        marginHorizontal: 20,\r\n        borderRadius: 40,\r\n        paddingVertical: 20,\r\n        paddingLeft: 30,\r\n        paddingRight: 30\r\n    },\r\n    movieTitle: {\r\n        fontFamily: 'Raleway-Bold',\r\n        color: 'white',\r\n        marginBottom: 8,\r\n        textAlign: 'center'\r\n    },\r\n    rateButton: {\r\n        backgroundColor: 'white',\r\n        padding: 13,\r\n        borderRadius: 13,\r\n        flex: -1\r\n    },\r\n    activeRateButton: {\r\n        backgroundColor: '#DD1515',\r\n        padding: 13,\r\n        borderRadius: 13,\r\n        flex: -1\r\n    },\r\n    question: {\r\n        fontFamily: 'Raleway-SemiBold',\r\n        color: 'white',\r\n        fontSize: 17,\r\n        textAlign: 'center',\r\n        paddingHorizontal: 25,\r\n        marginBottom: 22\r\n    },\r\n    moviePoster: {\r\n        marginBottom: 13\r\n    },\r\n    notBlurred: {\r\n        ...StyleSheet.absoluteFill,\r\n    },\r\n    button: {\r\n        borderRadius: 22,\r\n        borderColor: 'white',\r\n        borderWidth: 1,\r\n        padding: 5,\r\n        alignItems: 'center',\r\n    },\r\n    buttonTitle: {\r\n        fontFamily: 'Raleway-SemiBold',\r\n        color: 'white',\r\n        fontSize: 18,\r\n        paddingHorizontal: 20\r\n    },\r\n})"]},"metadata":{},"sourceType":"module"}